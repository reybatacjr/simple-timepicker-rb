(function($){$.fn.SimpleTimepickerRB=function(options){var settings=$.extend({type:24,value:'00:00',minuteIncrement:5},options);function isValidTime(time,type){if(type==24){return/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/.test(time)}else if(type==12){return/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i.test(time)}return false}function convertTo12HourFormat(time){var a=time.split(':');var h=parseInt(a[0],10);var suffix='AM';if(h==0){h=12}else if(h==12){suffix='PM'}else if(h>12){h-=12;suffix='PM'}return((h<10?'0':'')+h)+':'+a[1]+' '+suffix}function adjustTime(timeString,addNumber,interval,operation='add',format='12'){var a=timeString.split(' ');var h=a[0].split(':');var hours=parseInt(h[0],10);var minutes=parseInt(h[1],10);if(a[1]=='PM'&&hours!==12){hours+=12}else if(a[1]=='AM'&&hours==12){hours=0}var date=new Date(1970,0,1,hours,minutes);if(interval=='hour'){operation=='add'?date.setHours(date.getHours()+addNumber):date.setHours(date.getHours()-addNumber)}else if(interval=='minute'){operation=='add'?date.setMinutes(date.getMinutes()+addNumber):date.setMinutes(date.getMinutes()-addNumber)}if(format=='12'){var newHours=date.getHours();var ampm=newHours>=12?'PM':'AM';if(newHours>12)newHours-=12;if(newHours==0)newHours=12;return String(interval=='hour'?newHours:date.getMinutes()).padStart(2,'0')}else if(format=='24'){return String(interval=='hour'?date.getHours():date.getMinutes()).padStart(2,'0')}}return this.each(function(){var inputElement=$(this);var inputContainer=inputElement.parent();var inputWidth=inputElement.outerWidth();var inputHeight=inputElement.outerHeight();var timepicker_wrapper=$('<div class="textbox-rb_wrapper"></div>');var timepicker_content=$('<div class="textbox-rb_content"></div>');var timeDisplay=$('<span class="time-display"></span>');inputElement.appendTo(timepicker_content);timeDisplay.appendTo(timepicker_content);timepicker_wrapper.css({'padding':'3px','border':'1px solid #ccc','border-radius':'8px','display':'inline-flex','align-items':'center','background-color':'#f9f9f9','position':'relative','font-family':'Arial, sans-serif','width':inputWidth+'px','height':inputHeight+'px'});timepicker_content.css({'flex-grow':1,'padding-left':'5px','font-size':'14px','line-height':'20px'});var valueToUse=settings.value||inputElement.val();inputElement.attr('value',valueToUse);if(settings.type==12&&!/(AM|PM)/i.test(valueToUse)){valueToUse=convertTo12HourFormat(valueToUse)}if(isValidTime(valueToUse,settings.type)){timeDisplay.text(valueToUse)}else{timeDisplay.text('Invalid Time')}var clearButton=$('<button></button>').text('X').css({'position':'absolute','right':'5px','top':'50%','transform':'translateY(-50%)','cursor':'pointer','width':'20px','height':'20px','border':'none','border-radius':'5px','background-color':'#f1f1f1','color':'#888','font-size':'14px','display':'flex','justify-content':'center','align-items':'center','text-align':'center'}).on('click',function(){timeDisplay.text(settings.type==12?'00:00 AM':'00:00')});timepicker_wrapper.append(timepicker_content);timepicker_wrapper.append(clearButton);var increaseHour=$('<button>↑</button>').css({'cursor':'pointer','font-size':'18px','border':'none','background-color':'#f1f1f1','flex':1,'padding':'5px','text-align':'center'}).on('click',function(){var currentTime=hourInput.val()+':'+minuteInput.val();hourInput.val(adjustTime(currentTime,1,'hour','add',settings.type))});var increaseMinute=$('<button>↑</button>').css({'cursor':'pointer','font-size':'18px','border':'none','background-color':'#f1f1f1','flex':1,'padding':'5px','text-align':'center','margin-left':'17px','margin-right':'17px'}).on('click',function(){var currentTime=hourInput.val()+':'+minuteInput.val();minuteInput.val(adjustTime(currentTime,settings.minuteIncrement,'minute','add',settings.type))});var hourInput=$('<input type="text" placeholder="Hour" />').val(valueToUse.split(':')[0]).css({'width':'26%','padding':'5px','border':'1px solid #ccc','border-radius':'4px','font-size':'24px'});var separator=$('<span>:</span>').css({'font-size':'24px'});var minuteInput=$('<input type="text" placeholder="Minute" />').css({'width':'26%','padding':'5px','border':'1px solid #ccc','border-radius':'4px','font-size':'24px'});minuteInput.val(settings.type==12?valueToUse.split(':')[1].split(' ')[0]:valueToUse.split(':')[1]);var amPmToggle=$('<span></span>').css({'font-size':'18px','border':'none','background-color':'#f1f1f1','cursor':'pointer','text-align':'center','border-radius':'4px','font-size':'10px'}).on('click',function(){var currentVal=timeDisplay.text();if(currentVal.includes('AM')){timeDisplay.text(currentVal.replace('AM','PM'));amPmToggle.text(timeDisplay.text().split(' ')[1])}else{timeDisplay.text(currentVal.replace('PM','AM'));amPmToggle.text(timeDisplay.text().split(' ')[1])}});if(settings.type==12){amPmToggle.text(valueToUse.split(':')[1].split(' ')[1])}var decreaseHour=$('<button>↓</button>').css({'cursor':'pointer','font-size':'18px','border':'none','background-color':'#f1f1f1','flex':1,'padding':'5px','text-align':'center'}).on('click',function(){var currentTime=hourInput.val()+':'+minuteInput.val();hourInput.val(adjustTime(currentTime,1,'hour','subtract',settings.type))});var decreaseMinute=$('<button>↓</button>').css({'cursor':'pointer','font-size':'18px','border':'none','background-color':'#f1f1f1','flex':1,'padding':'5px','text-align':'center','margin-left':'17px','margin-right':'17px'}).on('click',function(){var currentTime=hourInput.val()+':'+minuteInput.val();minuteInput.val(adjustTime(currentTime,settings.minuteIncrement,'minute','subtract',settings.type))});var okButton=$('<button>OK</button>').css({'width':'100%','padding':'8px','background-color':'#4CAF50','color':'#fff','border':'none','border-radius':'4px','cursor':'pointer','font-size':'14px','margin-top':'10px'}).on('click',function(){var hour=hourInput.val();var minute=minuteInput.val();var time=(hour.length<2?'0'+hour:hour)+':'+(minute.length<2?'0'+minute:minute);if(settings.type==12){time=time+' '+amPmToggle.text()}timeDisplay.text(time);inputElement.attr('value',time);popup.hide()});var popup=$('<div class="timepicker-popup"></div>').css({'display':'none','position':'absolute','top':inputHeight+8+'px','left':'0','width':'120px','padding':'5px','background-color':'#fff','border':'1px solid #ccc','border-radius':'8px','box-shadow':'0 2px 10px rgba(0,0,0,0.1)','font-size':'14px','z-index':'999'});popup.append($('<div class="increase-wrapper">').css({'display':'flex','flex-direction':'row','align-items':'center','gap':'5px'}).append(increaseHour,increaseMinute));popup.append($('<div class="time-wrapper">').css({'display':'flex','align-items':'center','gap':'5px'}).append(hourInput,separator,minuteInput,amPmToggle));popup.append($('<div class="decrease-wrapper">').css({'display':'flex','flex-direction':'row','align-items':'center','gap':'5px'}).append(decreaseHour,decreaseMinute));popup.append(okButton);timepicker_content.on('click',function(){$('.timepicker-popup').not(popup).hide();popup.toggle()});timepicker_wrapper.append(popup);inputElement.css({'visibility':'hidden','display':'none'});inputContainer.append(timepicker_wrapper)})}})(jQuery);
// Author: Reynaldo S. Batac Jr.  
// Email: reynaldo.batac@icloud.com  
// License: Free to use (with attribution)