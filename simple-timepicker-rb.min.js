(function($){$.fn.SimpleTimepickerRB=function(options){var settings=$.extend({type:24,value:'00:00',minuteIncrement:5},options);function isValidTime(time,type){if(type===24){return/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/.test(time)}else if(type===12){return/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i.test(time)}return false}function convertTo12HourFormat(time){const[hours,minutes]=time.split(':');let hour=parseInt(hours,10);let suffix='AM';if(hour===0){hour=12}else if(hour===12){suffix='PM'}else if(hour>12){hour-=12;suffix='PM'}const formattedHour=(hour<10?'0':'')+hour;return`${formattedHour}:${minutes} ${suffix}`}function adjustTime(timeString,addNumber,interval,operation='add',format='12'){const[time,period]=timeString.split(' ');let[hours,minutes]=time.split(':');hours=parseInt(hours,10);minutes=parseInt(minutes,10);if(period==='PM'&&hours!==12){hours+=12}else if(period==='AM'&&hours===12){hours=0}const date=new Date(1970,0,1,hours,minutes);if(interval==='hour'){if(operation==='add'){date.setHours(date.getHours()+addNumber)}else{date.setHours(date.getHours()-addNumber)}}else if(interval==='minute'){if(operation==='add'){date.setMinutes(date.getMinutes()+addNumber)}else{date.setMinutes(date.getMinutes()-addNumber)}}if(format=='12'){let newHours=date.getHours();const ampm=newHours>=12?'PM':'AM';if(newHours>12)newHours-=12;if(newHours===0)newHours=12;const result=interval==='hour'?newHours:date.getMinutes();return String(result).padStart(2,'0')}else if(format=='24'){const result=interval==='hour'?date.getHours():date.getMinutes();return String(result).padStart(2,'0')}}return this.each(function(){var inputElement=$(this);var inputContainer=inputElement.parent();var inputWidth=inputElement.outerWidth();var inputHeight=inputElement.outerHeight();var timepicker_wrapper=$('<div class="textbox-rb_wrapper"></div>');var timepicker_content=$('<div class="textbox-rb_content"></div>');var timeDisplay=$('<span class="time-display"></span>');inputElement.appendTo(timepicker_content);timeDisplay.appendTo(timepicker_content);timepicker_wrapper.css({'width':inputWidth+'px','height':inputHeight+'px'});var valueToUse=settings.value||inputElement.val();inputElement.attr('value',valueToUse);if(settings.type===12&&!/(AM|PM)/i.test(valueToUse)){valueToUse=convertTo12HourFormat(valueToUse)}if(isValidTime(valueToUse,settings.type)){timeDisplay.text(valueToUse)}else{timeDisplay.text('Invalid Time')}var clearButton=$('<button class="clear-button"></button>').text('X').on('click',function(){if(settings.type===12){timeDisplay.text('00:00 AM')}else{timeDisplay.text('00:00')}inputElement.val(timeDisplay.text());hourInput.val(inputElement.val().split(':')[0]);minuteInput.val(settings.type===12?inputElement.val().split(':')[1].split(' ')[0]:inputElement.val().split(':')[1]);if(settings.type===12){amPmToggle.text(inputElement.val().split(':')[1].split(' ')[1])}});timepicker_wrapper.append(timepicker_content);timepicker_wrapper.append(clearButton);var increaseHour=$('<button class="spinner-btn"></button>').text('↑').on('click',function(){var currentTime=hourInput.val()+':'+minuteInput.val();hourInput.val(adjustTime(currentTime,1,'hour','add',settings.type))});var increaseMinute=$('<button class="spinner-btn spinner-btn-left"></button>').text('↑').on('click',function(){var currentTime=hourInput.val()+':'+minuteInput.val();minuteInput.val(adjustTime(currentTime,settings.minuteIncrement,'minute','add',settings.type))});var hourInput=$('<input class="time-digit" type="text" placeholder="Hour" />').val(valueToUse.split(':')[0]);var separator=$('<span>:</span>');var minuteInput=$('<input class="time-digit" type="text" placeholder="Minute" />').val(settings.type===12?valueToUse.split(':')[1].split(' ')[0]:valueToUse.split(':')[1]);var amPmToggle=$('<span class="ampm-toggle"></span>').on('click',function(){var currentVal=timeDisplay.text();amPmToggle.text(amPmToggle.text()==='AM'?'PM':'AM')});if(settings.type===12){amPmToggle.text(valueToUse.split(':')[1].split(' ')[1])}var decreaseHour=$('<button class="spinner-btn"></button>').text('↓').on('click',function(){var currentTime=hourInput.val()+':'+minuteInput.val();hourInput.val(adjustTime(currentTime,1,'hour','subtract',settings.type))});var decreaseMinute=$('<button class="spinner-btn spinner-btn-left"></button>').text('↓').on('click',function(){var currentTime=hourInput.val()+':'+minuteInput.val();minuteInput.val(adjustTime(currentTime,settings.minuteIncrement,'minute','subtract',settings.type))});var okButton=$('<button class="ok-btn">OK</button>').on('click',function(){var hour=hourInput.val();var minute=minuteInput.val();var time=(hour.length<2?'0'+hour:hour)+':'+(minute.length<2?'0'+minute:minute);if(settings.type===12){time=time+' '+amPmToggle.text()}timeDisplay.text(time);inputElement.attr('value',time);popup.hide()});var popup=$('<div class="timepicker-popup"></div>').css({'top':inputHeight+8+'px'});popup.append($('<div class="increase-wrapper">').append(increaseHour,increaseMinute));popup.append($('<div class="time-wrapper">').append(hourInput,separator,minuteInput,amPmToggle));popup.append($('<div class="decrease-wrapper">').append(decreaseHour,decreaseMinute));popup.append(okButton);timepicker_content.on('click',function(){$('.timepicker-popup').not(popup).hide();popup.toggle()});timepicker_wrapper.append(popup);inputElement.css({'visibility':'hidden','display':'none'});inputContainer.append(timepicker_wrapper)})}})(jQuery);
// Author: Reynaldo S. Batac Jr.  
// Email: reynaldo.batac@icloud.com  
// License: Free to use (with attribution)